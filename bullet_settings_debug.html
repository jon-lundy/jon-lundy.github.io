<!DOCTYPE html>
<html>
  <head>
    <title>Bullets Configuration</title>
	<style>
		body {
			background-color: black;
			color: white;
		}
		a:link {
			color: #00FFFF
		}
		a:visited {
			color: #FF0000
		}
		a:hover {
			color: #FF0000
		}
	</style>
  </head>
  <body>
    <h1>Bullets</h1>
	<h3>Configuration</h3>
    <p>Choose settings, then press Save</p>
    <p>
	<input type="checkbox" id="use_12h"> Use 12-hour time
	</p>
	<p>
	<input type="checkbox" id="hide_battery"> Hide battery indicator
	</p>
	<p>
	<input type="checkbox" id="hide_date"> Hide date
	</p>
    <p>
    <button id="save_button">Save</button>
    </p>
	<div>
	  <p><em>Enjoying Bullets?</em> Consider sending a few bits for coffee...</p> 
	  <a href="bitcoin:1BGxAuEu9sCUXBs6RMY6VMVvhpit2xpz2v?amount=0.01&label=Bullet%20Watchface">
	  <img src="bullet_donation_qr.png" > 1BGxAuEu9sCUXBs6RMY6VMVvhpit2xpz2v</a>
	</div>
  </body>
</html>
<script>
  function saveOptions() {
    var use12hTime = document.getElementById("use_12h").checked;
    var hideBattery = document.getElementById("hide_battery").checked;
    var hideDate = document.getElementById("hide_date").checked;
 
    var options = {
      "use12hTime": use12hTime,
      "hideBattery": hideBattery,
      "hideDate": hideDate
    }
     
    return options;
  };
 
  var submitButton = document.getElementById("save_button");
  submitButton.addEventListener("click", 
    function() {
      var options = saveOptions();
      alert(JSON.stringify(options));
      var location = "pebblejs://close#" + encodeURIComponent(JSON.stringify(options));
      alert(location);
      //document.location = location;
    }, 
  false);
</script>
